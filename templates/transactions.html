{% extends "base.html" %}
{% block content %}

    <div class="row">
        <div class="col s12 m10 offset-m1">
            <div class="card white">
                <div class="card-content">
                    <div class="clearfix header">
                        Transactions<img src="../static/images/bitcoins_gold.png" alt="Golden Bitcoins">
                    </div>
                    <hr>
                    <!-- display message if no transactions made -->
                    {% if not user_transactions.count() %}
                        <div>You have not made any transactions</div>
                    {% endif %}
                    <!--iterate through transactions listed in db to populate transaction history-->
                    {% for transaction in user_transactions %}
                        <div>
                            {{ transaction.time_stamp }}
                            bought {{ transaction.sold_amount }} USD of &nbsp; <img class="crypto-icon" src="../static/images/crypto-icons/{{ transaction.currency_bought.lower() }}.png" alt="Profile image for {{ transaction.currency_bought }}">
                            {{ transaction.currency_bought.upper() }}
                            using &nbsp; <img class="crypto-icon" src="../static/images/crypto-icons/{{ transaction.currency_sold.lower() }}.png" alt="Profile image for {{ transaction.currency_sold }}">
                            {{ transaction.currency_sold.upper() }}
                            @ {{ transaction.bought_price }} per coin
                        </div><hr>
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>

{% endblock %}